# 활용 프롬프트

## 1. 데이터 수집

```
kyobo_book_scroll.py파일을 생성하고 파이썬 코드로 구현할 내용은 다음과 같습니다.

https://store.kyobobook.co.kr/bestseller/total/annual?page={page number} 교보문고 2024년 종합연간베스트 페이지에서 리뷰 수가 500개 이상인 도서의 상세 페이지 URL을 수집하여 kyobo_book_url.csv 파일로 저장하는 Python 스크립트를 작성해주세요. 다음 요구사항을 반영해주세요:

1. Selenium과 BeautifulSoup을 사용하여 동적 페이지를 크롤링
2. 각 도서의 상세 페이지를 방문하여 리뷰 수를 확인
3. 리뷰 수는 span.review_desc 요소에서 "(숫자개의 리뷰)" 형식으로 추출
4. 여러 방법으로 리뷰 수를 추출할 수 있도록 대비책 마련 (제목과 리뷰 수를 정확히 추출할 수 있는 다양한 방법 구현)
5. 여러 방법 중 하나에서 성공하면 다음 방법은 더이상 실행안하도록 코드 구현
6. 리뷰 수가 500개 이상인 도서만 선별하여  homework/data/ 폴더에 kyobo_book_url.csv파일에 저장하도록 구현
7. CSV 파일에는 도서 제목, 상세페이지 URL, 리뷰 수 정보가 포함되어야 함
8. 적절한 예외 처리와 로깅 기능 구현
9. page_number는 1~10까지 존재함
10. 파이썬 코드에는 적절히 주석을 추가해야 함
11. homework 폴더에 kyobo_book_scroll.py 라는 Python 스크립트를 작성해서 저장할것
12. 스크립트에 필요한 라이브러리는 selenium, pandas, requests, bs4, webdriver-manager입니다.
```
```
homework/data/경로에 kyobo_book_url.csv 파일에서 중복된 내용은 제거하고 도서코드 컬럼을 추가해서 homework/data/경로에 kyobo_book_list.csv 파일에 저장해주는 파이썬 스크립트를 작성해주세요
```
```
homework/data/경로에 kyobo_book_list.csv 파일에 도서코드를 이용하여 ch03/ref/scraper_kyobo.py 코드를 이용하여 리뷰정보를 추출하는 코드를 작성해주세요
```

## 2. 데이터 분석

```
homework/data/kyobo_reviews 경로에 있는 리뷰데이터들을 가지고 LLM으로 감성분석을 하고 시각화를 해주세요.

다음 사항을 참고하세요.

1. homework/data/kyobo_reviews 경로에 있는 리뷰파일들의 도서코드로 homework/data/kyobo_book_url.csv 파일의 내용을 참고하여 도서의 제목을 식별해야함
2. LLM으로 도서별 리뷰들의 감성분석을 진행해야함
3. 감성분석 결과를 homework/data/kyobo_book_sentiment_analysis.csv 파일로 저장해야함
```

## 3. 데이터 시각화

```
감성분석 결과파일인 kyobo_book_sentiment_analysis.csv 데이터를 이용해서 시각화를 진행해주세요.

1. homework/result 경로에 2024_kyobo_bestseller_review_trend_visualization_xx.html로 결과를 저장할 것
2. chart.js 라이브러리로 동적 챠트를 만들 것
3. 글자 크기는 가장 작은 텍스트가 20pt로 bold 체로 구성할 것
4. 시각화 웹페이지 제목 바로 아래에 3개의 탭버튼을 추가하고 탭별 시각화가 가능하도록 구성할 것, 탭은 모든페이지에서 상단에 고정되어 있도록 할 것
   - 탭은 "도서별트랜드", "감성트랜드", "키워드트랜드"로 구성할 것
5. 메인페이지로 진입시 "도서별 트랜드" 페이지가 보이도록 구성할 것
6. 제목은 2024년 교보문고 베스트셀러 리뷰 트랜드로 할 것
7. 시각화 결과에 다음 내용들을 추가할 것

[도서별트랜드 탭의 시각화 구성은 다음을 포함할것]
   a. 도서별 리뷰수 분포 시각화
   - 목표: 리뷰 개수가 많은 20개 도서별 리뷰수를 확인
   - 유형: 세로 막대 그래프 내에 리뷰 수 라벨링 포함 
   - 인사이트: 챠트를 해석하여 분석 코멘트를 추가해 줄 것
   b. 도서별 감성 분석 결과 분포 시각화
   - 목표: 리뷰 개수가 많은 20개 도서별 리뷰에서 긍정/부정 감성의 비율 확인
   - 유형: stacked 막대 그래프로 표현하면서 그래프내에 긍부정 비율을 라벨링 포함
   - 인사이트: 챠트를 해석하여 독자 전반의 감정적 반응 경향을 파악한 분석 코멘트를 추가해 줄 것

[감성트랜드 탭의 시각화 구성은 다음을 포함할것]
  a. 감성 점수 분포 시각화
  - 목표: 감성 점수가 어느 구간에 집중되어 있는지 시각적으로 분석
  - 유형: Area Chart으로 표현
  - 인사이트: 차트를 해석하여 감성의 강도(극단적 긍/부정 포함)를 파악한 분석 코멘트를 추가해 줄 것
  b. 평점 vs 감성 점수의 관계
  - 목표: 감성 점수와 리뷰 평점 간의 상관관계를 파악
  - 유형: Violin Plot으로 표현
  - 인사이트: 챠트를 해석하여평점이 높을수록 감성도 긍정적인지 판단한 분석 코멘트를 추가해 줄 것
  c. 시간 흐름에 따른 감성 변화
  - 목표: 리뷰 작성 시기에 따른 감성 경향 변화 확인
  - 유형: 선 그래프 (작성일 기준 그룹화), 작성일의 범위는 2024년 1월부터 12월로 월별로 그룹화 할 것
  - 인사이트: 특정 이슈나 계절에 따라 감성 반응이 달라지는지 파악 가능한 코멘트를 포함할 것

[키워드트랜드 탭의 시각화 구성은 다음을 포함해줘]
  a. 감성별 주요 키워드 비교
   - 목표: 감성점수가 높은 상위 20개의 도서리뷰들에서 긍정 리뷰에서 자주 언급되는 키워드와 감성점수가 낮은 상위 20개의 도서리뷰들에서 부정 리뷰에서 자주 언급되는 키워드의 차이 분석
   - 유형: /homework/result/images/ 밑에 워드클라우드 이미지들을 로딩해줘
   - 예외사항 : 워드클라우드 단어수는 max 100개로 구성해줘, 워드클라우드를 미리 이미지로 만들어 놓고, html에서 부르도록 수정해줘.
   - 인사이트: 긍정적인 리뷰와 부정적인 리뷰의 주요 화두 차이를 파악 가능한 분석코멘트를 포함할 것
```

## 4. docker파일 생성

```
python 런타임은 docker 컨테이너로 준비할 것. 
1. requirements.txt를 만들어 python 의존성을 docker 빌드시 포함시킬 것 
2. homework/Dockerfile을 작성하여 python 3.12 런타임을 구성할 것. 
3. homework/docker-compose.yml 파일을 작성하여 컨테이너를 동작시킬 것. 
4. homework/result 폴더에 2024_kyobo_bestseller_review_trend_visualization.html 웹페이지를 docker 컨테이너 런타임으로 실행할것
```